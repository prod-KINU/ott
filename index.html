<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Motion One Text Example</title>
  <style>
    /* セレクタ整合性を取るために #animation を付与 */
    #animation .text-xl {
      font-size: 1.5rem;
      color: currentColor;
      letter-spacing: 0.06em;
    }
    /* レイアウト用の軽いスタイル */
    .large.grid.centered.square-grid {
      min-height: 60vh;
      display: grid;
      place-items: center;
    }
  </style>
</head>
<body>
  <div id="animation" class="large grid centered square-grid">
    <h2 class="text-xl">HEJ! We are KINU!</h2>
  </div>

  <!-- Motion One（ESM/モジュール） -->
  <script type="module">
    // CDNのESMビルドを直接import
    import { animate, stagger } from "https://cdn.jsdelivr.net/npm/motion@10/dist/motion.mjs";
    import { text } from "https://cdn.jsdelivr.net/npm/@motionone/text@10/dist/text.mjs";

    // あなたの元コードに合わせて h2 を対象化
    const { chars } = text.split("h2", { words: false, chars: true });

    // アニメーション本体
    animate(chars, {
      // yのキーフレーム
      y: [
        { to: "-2.75rem", easing: "ease-out", duration: 0.6 },
        { to: 0, easing: "cubic-bezier(0.34, 1.56, 0.64, 1)", duration: 0.8, delay: 0.1 } // outBounce相当
      ],
      // 回転
      rotate: { from: "-1turn", delay: 0 },
      delay: stagger(0.05),
      easing: "ease-in-out",
      // ループ表現（Motion Oneは `direction:"alternate", repeat: Infinity` が王道）
      direction: "alternate",
      repeat: Infinity,
      // 1ループの後に一息入れるなら、合間を稼ぐために総durationを長めにする or setTimeoutで再始動 など
    });
  </script>
</body>
</html>
