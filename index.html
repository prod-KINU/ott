<section class="panel" data-color="#111111">...</section>
<section class="panel" data-color="#0047AB">...</section>
<section class="panel" data-color="#E63946">...</section>

<style>
:root{ --bg: #ffffff }
body{ background: var(--bg); transition: background-color .45s ease }
.panel{ min-height: 100vh; padding: 10vh 8vw }
</style>
<script>
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      document.documentElement.style.setProperty('--bg', e.target.dataset.color);
    }
  });
},{ threshold: 0.6 });
document.querySelectorAll('.panel').forEach(p=>io.observe(p));
</script>
